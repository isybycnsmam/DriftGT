// AUTO-GENERATED ON BUILD
// DO NOT CHANGE
// generated by pre build script '../extra_script.py'
#include <avr/pgmspace.h>
#include "ESPAsyncWebServer.h"

#ifndef STATIC_WEBSITE_CONTENT_H
#define STATIC_WEBSITE_CONTENT_H


const char INDEX_CONTENT[] PROGMEM = R"""(<!doctype html><title>DriftGT</title><meta name=viewport content="width=device-width"><meta name=mobile-web-app-capable content=yes><link rel=stylesheet href=style.css><div class=slider-container><input type=range class="slider vertical-slider" min=-255 max=255 value=0 id=vertical-slider></div><div class=slider-container><input type=range class=slider min=-255 max=255 value=0 id=horizontal-slider></div><div class=settings-container><button id=connect-button>Connect</button> <button id=fullscreen-button>Fullscreen</button> <button id=show-console-button>Console</button> <button id=show-user-controlls-button>Show controls</button><div id=user-control-options-container class=hide><button class=user-control-option data-name=arrows data-enabled=false>Enable arrows</button> <button class=user-control-option data-name=WSAD data-enabled=false>Enable WSAD</button> <button class="user-control-option enabled" data-name=touch data-enabled=true>Disable touch</button> <button class=user-control-option data-name=gamepad data-enabled=false>Enable gamepad</button></div></div><div class=features-container><button id=horn-button>Horn</button> <button id=toggle-lights-button>Lights</button> <input id=lights-color-picker type=color value=#4A9CFF></div><script src=./scripts.js></script>)""";

const char SCRIPTS_CONTENT[] PROGMEM = R"""(var a='ws://192.168.4.1:80/ws',b=40,c=1,d=0,e=100,f=180,g=document.getElementById('connect-button'),h=document.getElementById('show-user-controlls-button'),i=document.getElementById('user-control-options-container'),j=document.querySelector('.user-control-option[data-name="gamepad"]'),k=document.getElementById("horn-button"),l=document.getElementById("toggle-lights-button"),m=document.getElementById("lights-color-picker"),n=document.getElementById('vertical-slider'),o=document.getElementById('horizontal-slider'),p,q=!1,r=!1,s=[74,156,255],t=!1,u,v=!1,w=!1,x=!1,y=!1,z=!1;function _(){console.log("Connecting to websocket");g.innerText="Connecting...";g.style.backgroundColor='#6687E2';p=new WebSocket(a);p.onopen=()=>{console.log("Websocket connected");g.style.backgroundColor='#66E976';g.innerText='Disconnect'};p.onclose=()=>{console.log("Websocket closed");g.style.backgroundColor='#FD616C';g.innerText='Connect*'};console.log("Successfully initialized websocket")}function A(){console.log("Closing websocket");g.innerText="Disconnecting...";g.style.backgroundColor='#6687E2';p.close()}g.onclick=()=>!p||p.readyState==WebSocket.CLOSED?_():p.readyState==WebSocket.OPEN&&A();function aA(B,C){if(!p||p.readyState!==WebSocket.OPEN)return;let _c;B=='move'?_c=new Uint8Array([0,...C]):B=='lights'?_c=new Uint8Array([1,...C]):B=='horn'&&(_c=new Uint8Array([2,...C]));p.send(_c)}function aB(B,C){var _c=Math.abs(C),D=C>0?3:2;if(_c-b<0){aA('move',[B,0,0]);return}B==c&&_c>f&&(_c=f);aA('move',[B,D,_c])}function aC(B){q=B;B?(l.classList.add("enabled"),aA('lights',s)):(l.classList.remove("enabled"),aA('lights',[0,0,0]))}function aD(B){if(r==B)return;r=B;B?k.classList.add("enabled"):k.classList.remove("enabled");aA('horn',[B?1:0])}function aE(){n.value=0;o.value=0;aB(c,0);aB(d,0);aD(!1)}h.onclick=()=>{i.classList.toggle('hide');i.classList.contains('hide')?h.innerText="Show controls":h.innerText="Hide controls"};for(const B of document.querySelectorAll('.user-control-option'))B.onclick=aF;function aF(B){var C=B.target,_c=C.dataset.name,D=C.dataset.enabled=='true';if(_c=='arrows'||_c=='WSAD')D?aM(_c):aL(_c); else if(_c=='touch')aS(!D); else if(_c=='gamepad')D?aH():aG();else{console.warn(`Unknown option name`);return}C.dataset.enabled=!D;C.classList.toggle('enabled');C.innerText=`${!D?'Disable':'Enable'} ${_c}`}function aG(){navigator.getGamepads()[0]&&aI();window.addEventListener("gamepadconnected",aI);window.addEventListener("gamepaddisconnected",aJ)}function aH(){window.removeEventListener("gamepadconnected",aI);window.removeEventListener("gamepaddisconnected",aJ);aJ()}function aI(){console.log("Gamepad connected!");!t&&(t=!0,j.classList.add('active'),u=setInterval(aK,e))}function aJ(){console.log("Gamepad disconnected!");t&&(t=!1,j.classList.remove('active'),clearInterval(u),aE())}function aK(){var B=navigator.getGamepads(),C=B[0];if(C){var _a=C.axes[0],_b=Math.round(_a*255),_c=C.buttons[7].value,D=C.buttons[6].value,E=Math.round(_c*255),F=Math.round(D*255),G=C.buttons[0].value==1,H=C.buttons[1].value;o.value=_b;aB(c,_b);if(E>F){n.value=E;aB(d,E)}else E<F?(n.value=F*-1,aB(d,F*-1)):(n.value=0,aB(d,0));aD(G);H==1&&!v&&aC(!q);v=H}}function aL(B){if(B=='arrows')['keydown','keyup'].forEach(name=>document.addEventListener(name,aO)); else if(B=='WSAD')['keydown','keyup'].forEach(name=>document.addEventListener(name,aN));else{console.log(`Unknown keyboard control option to enable: '${B}'`);return}k.innerText="Horn (space)";l.innerText="Lights (L)"}function aM(B){if(B=='arrows')['keydown','keyup'].forEach(name=>document.removeEventListener(name,aO)); else if(B=='WSAD')['keydown','keyup'].forEach(name=>document.removeEventListener(name,aN));else{console.log(`Unknown keyboard control option to disable: '${B}'`);return}k.innerText="Horn";l.innerText="Lights";aE()}function aN(B){aP(B);aR(aQ(B,'w','s','a','d'))}function aO(B){aP(B);aR(aQ(B,'ArrowUp','ArrowDown','ArrowLeft','ArrowRight'))}function aP(B){var C=B.type=='keydown';B.key==' '?aD(C):B.key=='l'&&C&&aC(!q)}function aQ(B,C,_c,D,E){var F=B.key,G=B.type=='keydown';if(F==C){w=G;return'driving'}if(F==_c){x=G;return'driving'}if(F==D){y=G;return'turning'}if(F==E){z=G;return'turning'}return""}function aR(B){if(B=='driving')if(w==x){aB(d,0);n.value=0} else if(w){aB(d,255);n.value=255}else x&&(aB(d,-255),n.value=-255);if(B=='turning')if(y==z){aB(c,0);o.value=0} else if(z){aB(c,255);o.value=255}else y&&(aB(c,-255),o.value=-255)}function aS(B){o.disabled=!B;n.disabled=!B;k.disabled=!B;l.disabled=!B;aE()}n.addEventListener('input',()=>aB(d,n.value));o.addEventListener('input',()=>aB(c,o.value));for(const B of ['mouseup','touchend']){n.addEventListener(B,()=>{aB(d,0);n.value=0});o.addEventListener(B,()=>{aB(c,0);o.value=0})}for(const B of ['mousedown','touchstart'])k.addEventListener(B,()=>aD(!0));for(const B of ['mouseup','touchend'])k.addEventListener(B,()=>aD(!1));l.onclick=()=>{q=!q;aC(q)};m.onchange=B=>{var C=B.target.value,r=parseInt(C.substr(1,2),16),g=parseInt(C.substr(3,2),16),b=parseInt(C.substr(5,2),16);s=[r,g,b];q&&aC(!0)};document.getElementById('fullscreen-button').addEventListener('click',()=>document.body.requestFullscreen());)""";

const char STYLE_CONTENT[] PROGMEM = R"""(body{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;padding:0;font-family:Arial,sans-serif;background-color:#333;color:#fff}.settings-container{position:absolute;top:10px;right:10px;color:#fff}button{color:#fff;border:none;text-align:center;text-decoration:none;display:inline-block;font-size:16px;padding:5px;height:28px}#connect-button{background-color:#fd616c}#fullscreen-button{background-color:#5f9ea0}#show-console-button{background-color:#222453}#show-user-controlls-button{background-color:#8467e3;width:140px}#user-control-options-container{display:flex;flex-direction:column;align-items:flex-end;width:100%;padding-top:5px}.user-control-option{display:block;margin-right:0;width:140px;background-color:#434343}.user-control-option.enabled{background-color:#5f9ea0}.hide{display:none!important}.user-control-option.enabled[data-name=gamepad]:not(.active){background-color:orange}.features-container{position:absolute;bottom:10px;right:10px;color:#fff}#horn-button{width:130px;background-color:#325a21;float:left}#horn-button.enabled{background-color:#509433}#horn-button:disabled{color:#646262}#toggle-lights-button{width:130px;background-color:#425a76;margin-right:0;float:left}#toggle-lights-button.enabled{background-color:#4a9cff}#toggle-lights-button:disabled{color:#646262}#lights-color-picker{margin-left:0;height:28px;float:left}.slider-container{width:40%;height:80%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-right:8%}.slider{width:100%;position:relative}.vertical-slider{writing-mode:bt-lr;transform:rotate(-90deg);margin-top:10%}.slider::-webkit-slider-thumb{width:60px;height:60px;background-color:#fff;border-radius:50%;position:relative;z-index:9999;transform:translateX(-50%) translateY(-50%) scale(4)!important}.slider::-moz-range-thumb{width:60px;height:60px;background-color:#fff;border-radius:50%;position:relative;z-index:9999;transform:translateX(-50%) translateY(-50%) scale(2)!important}.slider::-ms-thumb{width:60px;height:60px;background-color:#fff;border-radius:50%;position:relative;z-index:9999;transform:translateX(-50%) translateY(-50%) scale(2)!important}.slider::before{content:'';width:100%;height:8px;background-color:#555;position:absolute;top:50%;transform:translateY(-50%);z-index:0}.slider::-webkit-slider-runnable-track{width:100%;height:8px;background-color:#555;position:relative;z-index:0}.slider::-moz-range-track{width:100%;height:8px;background-color:#555;position:relative;z-index:0}.slider::-ms-track{width:100%;height:8px;background-color:#555;position:relative;z-index:0}.slider::-moz-range-progress{height:8px;background-color:#fff;position:relative;z-index:1})""";


void initStaticContentEndpoints(AsyncWebServer *server) {
	server->on("/index.html", HTTP_GET, [](AsyncWebServerRequest *request)
			  { request->send(200, "text/html", INDEX_CONTENT); });

	server->on("/scripts.js", HTTP_GET, [](AsyncWebServerRequest *request)
			  { request->send(200, "text/javascript", SCRIPTS_CONTENT); });

	server->on("/style.css", HTTP_GET, [](AsyncWebServerRequest *request)
			  { request->send(200, "text/css", STYLE_CONTENT); });

}


#endif // STATIC_WEBSITE_CONTENT_H
